### Namespace에 대한 기본 메모리 요청량과 상한 구성

* 이 연습에서 생성한 리소스가 클러스터의 다른 리소스와 격리되도록 네임스페이스를 생성

  `kubectl create namespace example`

##### 리밋레인지(LimitRange)와 파드 생성

* 구성은 메모리 요청량 기본값과 메모리 상한 기본값을 지정한다.

```yaml
# memory-defaults.yaml
apiVersion: v1
kind: LimitRange
metadata:
	name: mem-limit-range
spec:
	limits:
	- default:
		memory: 512Mi
	  defaultRequest:
	  	memory: 256Mi
	  type: Container
```

* default-mem-example 네임스페이스에 리밋레인지를 생성한다.

  `kubectl apply -f memory-defaults.yaml --namespace=example`

* 이제 컨테이너가 example 네임스페이스에 생성되고, 컨테이너가 메모리 요청량 및 메모리 상한에 대해 고유한 값을 지정하지 않으면, 컨테이너에 메모리 요청량 기본값 256MiB와 메모리 상한 기본값 512MiB가 지정된다.



* 메모리 요청량 및 상한을 지정하지 않은 컨테이너가 하나인 파드.

```yaml
# pod.yaml
apiVersion: v1
kind: Pod
metadata:
	name: demo
spec:
	containers:
	- name: demo-ctr
	  image: nginx
```

* `kubectl apply -f pod.yaml --namespace=example`



* 파드에 대한 자세한 정보를 본다.

  `kubectl get pod demo --output=yaml --namespace=example`



##### 컨테이너 상한은 지정하고 요청량을 지정하지 않으면?

=> 컨테이너의 메모리 요청량이 메모리 상한과 일치하도록 설정된다.



##### 컨테이너의 요청량은 지정하고, 상한을 지정하지 않으면?

=> 컨테이너 메모리 요청량이 지정된 값으로 설정되고 메모리 상한은 네임스페이스의 기본 메모리 상한인 512Mi로 설정된다.

---

### 위의 내용은 CPU 또한 Memory와 동일하다.



















